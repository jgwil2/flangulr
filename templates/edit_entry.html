{% extends "layout.html" %}
{% block body %}
<form action="" method="POST" id="editForm" enctype="multipart/form-data">
  <dl>
    <dt>Title:</dt>
    <dd><input type="text" size="30" name="title" value="{{ entry.title }}"/></dd>
    <dt>Text:</dt>
    <dd><textarea name="text" rows="5" cols="40">{{ entry.text }}</textarea></dd>
    <dd><input type="button" value="Update" id="updateButton"/>
    <input type="hidden" name="id" value="{{ entry.id }}"/>
    <input type="button" value="Delete" id="deleteButton"/></dd>
  </dl>
</form>
{% endblock %}
{% block scripts %}
<script>
var form = document.getElementById("editForm"),
mod = document.getElementById("updateButton"),
del = document.getElementById("deleteButton")

function update(){
  form.action = "{{ url_for('edit_entry', id = entry.id) }}";
  form.submit();
}

function remove(){
  form.action = "{{ url_for('delete_entry') }}";
  form.submit();
}

mod.addEventListener('click', update);
del.addEventListener('click', remove);
</script>
{% endblock %}
